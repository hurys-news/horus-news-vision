# نشر المشروع على Vercel مع تكامل Supabase

اتبع الخطوات التالية لنشر المشروع على Vercel مع إعداد متغيرات البيئة اللازمة لتكامل Supabase:

## 1. الدخول إلى حساب Vercel

1. قم بزيارة [vercel.com](https://vercel.com/) وتسجيل الدخول إلى حسابك.
2. إذا لم يكن لديك حساب، قم بإنشاء حساب جديد.

## 2. إنشاء مشروع جديد

1. انقر على زر "Add New" ثم اختر "Project".
2. قم بربط حساب GitHub الخاص بك إذا لم تكن قد فعلت ذلك بالفعل.
3. اختر مستودع مشروع حورس نيوز من القائمة.

## 3. تكوين المشروع

1. في صفحة تكوين المشروع، تأكد من الإعدادات التالية:
   - **Framework Preset**: Vite
   - **Root Directory**: ./
   - **Build Command**: npm run build
   - **Output Directory**: dist

2. أضف متغيرات البيئة التالية:
   - `VITE_SUPABASE_URL`: أدخل عنوان URL لمشروع Supabase الخاص بك
   - `VITE_SUPABASE_ANON_KEY`: أدخل مفتاح API العام (anon key) لمشروع Supabase الخاص بك

   ![إضافة متغيرات البيئة](https://i.imgur.com/example-image.png)

3. انقر على زر "Deploy" لبدء عملية النشر.

## 4. انتظر اكتمال النشر

1. انتظر حتى تكتمل عملية البناء والنشر.
2. بمجرد اكتمال العملية، سيتم توفير عنوان URL للموقع المنشور.

## 5. التحقق من النشر

1. قم بزيارة الموقع المنشور للتأكد من أنه يعمل بشكل صحيح.
2. انتقل إلى `/supabase-test` للتحقق من الاتصال بقاعدة بيانات Supabase.
3. تأكد من أن لوحة التحكم تعمل بشكل صحيح عن طريق زيارة `/admin` أو `/simple-admin`.

## 6. إعداد المجال المخصص (اختياري)

إذا كنت ترغب في استخدام مجال مخصص:

1. انتقل إلى إعدادات المشروع في Vercel.
2. انقر على علامة التبويب "Domains".
3. أضف المجال المخصص الخاص بك واتبع التعليمات لإعداده.

## 7. تكوين CORS في Supabase

بعد النشر، تأكد من إضافة عنوان URL للموقع المنشور إلى إعدادات CORS في Supabase:

1. انتقل إلى لوحة تحكم Supabase.
2. انقر على "Settings" > "API".
3. في قسم "CORS", أضف عنوان URL للموقع المنشور (مثل: `https://your-project.vercel.app`) إلى قائمة "Allowed Origins".

## 8. إعادة النشر بعد التغييرات

عند إجراء تغييرات على المشروع ودفعها إلى GitHub، سيقوم Vercel تلقائيًا بإعادة بناء ونشر المشروع.

## استكشاف الأخطاء وإصلاحها

إذا واجهت مشاكل بعد النشر:

1. تحقق من سجلات البناء في Vercel للبحث عن أي أخطاء.
2. تأكد من أن متغيرات البيئة تم إعدادها بشكل صحيح.
3. تحقق من إعدادات CORS في Supabase.
4. استخدم صفحة `/supabase-test` للتحقق من الاتصال بقاعدة البيانات.
